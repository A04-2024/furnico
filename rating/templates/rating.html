{% extends 'base.html' %}
{% block content %}
<h2 class="text-2xl font-bold mb-4">Ulasan untuk Produk {{ product.product_name }}</h2>

{% if product.ratings.exists %}
    <div class="grid gap-4">
    {% for rating in product.ratings.all %}
        <div class="bg-white shadow-md rounded-lg p-4 mb-4 border border-gray-200">
            <div class="flex justify-between items-center">
                <h3 class="font-semibold">{{ rating.user.username }}</h3>
                <span class="text-yellow-500 font-semibold">{{ rating.rating }} â˜…</span>
            </div>
            <p class="text-gray-700 mt-2">{{ rating.description }}</p>
            <div class="mt-4 flex space-x-2">
                {% if rating.user == request.user %}
                <a href="{% url 'ratings:edit_rating' rating.id %}" class="text-blue-500 hover:text-blue-700">
                    <i class="fas fa-edit"></i> 
                </a>

                <a href="{% url 'ratings:delete_rating' rating.id %}" class="text-red-500 hover:text-red-700" onclick="return confirm('Are you sure you want to delete this rating?');">
                    <i class="fas fa-trash-alt"></i> 
                </a>

                {% endif %}
            </div>
        </div>
    {% endfor %}
    </div>
{% else %}
    <p class="text-gray-500">No ratings yet. Be the first to rate this product!</p>
{% endif %}

<!-- Add Rating button -->
<a href="{% url 'ratings:add_rating' product.id %}" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded mt-6 inline-block">
  Add Rating
</a>

{% endblock content %}
